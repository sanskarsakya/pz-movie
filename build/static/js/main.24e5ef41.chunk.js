(this["webpackJsonppz-movie-app"]=this["webpackJsonppz-movie-app"]||[]).push([[0],{44:function(e,t){},48:function(e,t,a){e.exports=a(91)},53:function(e,t,a){},54:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),i=(a(53),a(54),a(4)),s=a(1),l=a(46),u=JSON.parse(localStorage.getItem("users"))||[];var m=a(6),f=Object(m.a)(),d=a(11),g=a(37),E=a(38),p="ALERT_SUCCESS",v="ALERT_ERROR",h="ALERT_CLEAR",b="USERS_REGISTER_REQUEST",S="USERS_REGISTER_SUCCESS",w="USERS_REGISTER_FAILURE",x="USERS_LOGIN_REQUEST",y="USERS_LOGIN_SUCCESS",O="USERS_LOGIN_FAILURE",N="USERS_LOGOUT",j="USERS_GETALL_REQUEST",_="USERS_GETALL_SUCCESS",T="USERS_GETALL_FAILURE",R="USERS_DELETE_REQUEST",L="USERS_DELETE_SUCCESS",C="USERS_DELETE_FAILURE",k="IMAGES_GETALL_BY_MOVIE_REQUEST",A="IMAGES_GETALL_BY_MOVIE_SUCCESS",I="IMAGES_GETALL_BY_MOVIE_FAILURE",U="MOVIES_GET_TRENDING_REQUEST",M="MOVIES_GET_TRENDING_SUCCESS",G="MOVIES_GET_TRENDING_FAILURE",F="MOVIES_RESET",D="MOVIES_GET_DETAIL_REQUEST",H="MOVIES_GET_DETAIL_SUCCESS",W="MOVIES_GET_DETAIL_FAILURE",P="MOVIES_GET_ACTORS_REQUEST",J="MOVIES_GET_ACTORS_SUCCESS",V="MOVIES_GET_ACTORS_FAILURE",B="SEARCH_SET_SEARCH_TEXT",Q="SEARCH_REQUEST",z="SEARCH_SUCCESS",q="SEARCH_FAILURE",X="WATCHLIST_CREATE_REQUEST",Y="WATCHLIST_CREATE_SUCCESS",K="WATCHLIST_CREATE_FAILURE",Z="WATCHLIST_DELETE_SUCCESS",$=JSON.parse(localStorage.getItem("user")),ee=$?{loggedIn:!0,user:$}:{};var te=a(19),ae=a(2);var ne={loading:!1,error:"",items:[],item:{},text:""};function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0});case M:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,items:t.movies});case G:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,error:t.error});case D:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0});case H:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,item:t.movie});case W:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,error:t.error});case B:return Object(ae.a)(Object(ae.a)({},e),{},{text:t.text});case Q:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0});case z:return console.log(t.movies),Object(ae.a)(Object(ae.a)({},e),{},{items:t.movies,loading:!1});case q:return Object(ae.a)(Object(ae.a)({},e),{},{error:t.error});case F:default:return e}}var ce={loading:!1,error:"",items:[]};var oe={loading:!1,error:"",items:[]};var ie="SEARCH_SET_SEARCH_TEXT",se="SEARCH_REQUEST",le="SEARCH_SUCCESS",ue="SEARCH_FAILURE";function me(e,t){return function(a,n){var r=n.name;return console.log(n),r===t||void 0===a?e(a,n):a}}var fe=Object(d.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loggingIn:!0,user:t.user};case y:return{loggedIn:!0,user:t.user};case O:case N:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{registering:!0};case S:case w:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0};case _:return{items:t.users};case T:return{error:t.error};case R:return Object(ae.a)(Object(ae.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?Object(ae.a)(Object(ae.a)({},e),{},{deleting:!0}):e}))});case L:return{items:e.items.filter((function(e){return e.id!==t.id}))};case C:return Object(ae.a)(Object(ae.a)({},e),{},{items:e.items.map((function(e){if(e.id===t.id){e.deleting;var a=Object(te.a)(e,["deleting"]);return Object(ae.a)(Object(ae.a)({},a),{},{deleteError:t.error})}return e}))});default:return e}},movies:me(re,"Movies"),alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{type:"alert-success",message:t.message};case v:return{type:"alert-danger",message:t.message};case h:return{};default:return e}},actors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return{loading:!0};case J:return{items:t.actors};case V:return{error:t.error};default:return e}},recommendations:me(re,"Recommendations"),images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case A:return{items:t.images};case I:return{error:t.error};default:return e}},watchlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0});case Y:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,items:e.items.concat(t.movie)});case K:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,error:t.error});case Z:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1,items:e.items.filter((function(e,a){return e.id!==t.movie.id}))});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{text:t.text};case se:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0});case le:return Object(ae.a)(Object(ae.a)({},e),{},{items:t.movies,loading:!1});case ue:return{error:t.error};default:return e}},trending:me(re,"Trending")}),de=Object(E.createLogger)(),ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,Ee=Object(d.e)(fe,ge(Object(d.a)(g.a,de)));function pe(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var ve={success:function(e){return{type:p,message:e}},error:function(e){return{type:v,message:e}},clear:function(){return{type:h}}};var he="http://localhost:4000",be={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("".concat(he,"/users/authenticate"),a).then(we).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e}))},logout:Se,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(he,"/users/register"),t).then(we)},getAll:function(){var e={method:"GET",headers:pe()};return fetch("".concat(he,"/users"),e).then(we)},getById:function(e){var t={method:"GET",headers:pe()};return fetch("".concat(he,"/users/").concat(e),t).then(we)},update:function(e){var t={method:"PUT",headers:Object(ae.a)(Object(ae.a)({},pe()),{},{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("".concat(he,"/users/").concat(e.id),t).then(we)},delete:function(e){var t={method:"DELETE",headers:pe()};return fetch("".concat(he,"/users/").concat(e),t).then(we)}};function Se(){localStorage.removeItem("user")}function we(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&(Se(),window.location.reload(!0));var n=a&&a.message||e.statusText;return Promise.reject(n)}return a}))}var xe=a(39),ye=a.n(xe).a.create({baseURL:"https://api.themoviedb.org/3"});ye.interceptors.request.use((function(e){return e.params=e.params||{},e.params.api_key="bf42acf712bba686cfff9820897f4edb",e.params.language="en-US",e}));var Oe={login:function(e,t){return function(a){a({type:x,user:{username:e}}),be.login(e,t).then((function(e){a(function(e){return{type:y,user:e}}(e)),f.push("/movie")}),(function(e){a(function(e){return{type:O,error:e}}(e)),a(ve.error(e.toString()))}))}},logout:function(){return be.logout(),{type:N}},register:function(e){return function(t){t(function(e){return{type:b,user:e}}(e)),be.register(e).then((function(e){t(function(e){return{type:S,user:e}}()),f.push("/login"),t(ve.success("Registration successful."))}),(function(e){t(function(e){return{type:w,error:e}}(e.toString())),t(ve.error(e.toString()))}))}},getAll:function(){return function(e){e({type:j}),be.getAll().then((function(t){return e(function(e){return{type:_,users:e}}(t))}),(function(t){return e(function(e){return{type:T,error:e}}(t))}))}},delete:function(e){return function(t){t(function(e){return{type:R,id:e}}(e)),be.delete(e).then((function(a){return t(function(e){return{type:L,id:e}}(e))}),(function(a){return t(function(e,t){return{type:C,id:e,error:t}}(e,a.toString()))}))}}};var Ne=function(e){return e.split("-")[0]},je={getTrending:function(){return function(e){e({type:U,name:"Trending"}),ye.get("/trending/movie/day").then((function(t){return e(function(e){return{type:M,name:"Trending",movies:e}}((a=t.data.results,n=5,a.slice(0,n))));var a,n}),(function(t){return e(function(e){return{type:G,name:"Trending",error:e}}(t))}))}},getMovies:function(e,t){return function(a){a({type:U,name:"Movies"}),function(e){var t=e.filter||"popular";return ye.get("/movie/".concat(t,"?page=").concat(e.page),{params:{page:e.page}})}({filter:e,page:t}).then((function(e){return a(function(e){return{type:M,name:"Movies",movies:e}}(e.data.results))}),(function(e){return a(function(e){return{type:G,name:"Movies",error:e}}(e))}))}},getMovieDetail:function(e){return function(t){t({type:D,name:"Movies"}),function(e){return ye.get("/movie/".concat(e))}(e).then((function(e){return t(function(e){return{type:H,name:"Movies",movie:e}}(e.data))}),(function(e){return t(function(e){return{type:W,name:"Movies",error:e}}(e))}))}},getActors:function(e){return function(t){t({type:P}),function(e){return ye.get("/movie/".concat(e,"/credits"))}(e).then((function(e){return t(function(e){return{type:J,actors:e}}(e.data.cast))}),(function(e){return t(function(e){return{type:V,error:e}}(e))}))}},setSearchText:function(e){return function(t){t(function(e){return{type:B,name:"Movies",text:e}}(e))}},searchMovie:function(e,t){return function(a){var n;a({type:Q,name:"Movies"}),(n={query:e,page:t},console.log(n),ye.get("/search/movie?query=".concat(n.query,"&page=").concat(n.page))).then((function(e){return a(function(e){return{type:z,name:"Movies",movies:e}}(e.data.results))}),(function(e){return a(function(e){return{type:q,name:"Movies",error:e}}(e))}))}},resetMovies:function(){return function(e){e({type:F})}},getRecommendations:function(e){return function(t){var a;t({type:U,name:"Recommendations"}),(a=e,ye.get("/movie/".concat(a,"/recommendations"),{params:{language:"null",page:1}})).then((function(e){return t(function(e){return{type:M,name:"Recommendations",movies:e}}(e.data.results))}),(function(e){return t(function(e){return{type:G,name:"Recommendations",error:e}}(e))}))}}};var _e=function(e){var t=e.component,a=Object(te.a)(e,["component"]);return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Te=a(3),Re=a(40),Le=a(41),Ce=a(47),ke=a(45),Ae=function(e){Object(Ce.a)(a,e);var t=Object(ke.a)(a);function a(e){var n;return Object(Re.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.props.suggestions,a=e.currentTarget.value,r=t.filter((function(e){return e.toLowerCase().indexOf(a.toLowerCase())>-1}));n.setState({activeSuggestion:0,filteredSuggestions:r,showSuggestions:!0,userInput:e.currentTarget.value})},n.onClick=function(e){n.props.history.push("/search/".concat(e.currentTarget.innerText)),n.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText})},n.onKeyDown=function(e){var t=n.state,a=t.activeSuggestion,r=t.filteredSuggestions;if(13===e.keyCode)n.setState({activeSuggestion:0,showSuggestions:!1,userInput:r[a]});else if(38===e.keyCode){if(0===a)return;n.setState({activeSuggestion:a-1})}else if(40===e.keyCode){if(a-1===r.length)return;n.setState({activeSuggestion:a+1})}},n.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:""},n}return Object(Le.a)(a,[{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,n=this.onKeyDown,c=this.state,o=c.activeSuggestion,i=c.filteredSuggestions,s=c.showSuggestions,l=c.userInput;return s&&l&&(e=i.length?r.a.createElement("ul",{className:"suggestions"},i.map((function(e,t){return t===o&&"",r.a.createElement("li",{key:e,onClick:a},e)}))):r.a.createElement("div",{className:"no-suggestions"},r.a.createElement("em",null,"No suggestions"))),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"search",onChange:t,onKeyDown:n,value:l}),e)}}]),a}(n.Component);Ae.defaultProperty={suggestions:[]};Object(i.g)(Ae);var Ie=function(e){var t=Object(s.c)((function(e){return e.authentication.user}));return r.a.createElement("div",{className:" w-full px-10 py-3",style:{boxShadow:"0 14px 27px #16181e",backgroundColor:"#20209A"}},r.a.createElement("div",{className:"flex items-i max-w-6xl mx-auto justify-end"},r.a.createElement(Te.a,{className:"mr-3",to:"/movie"},r.a.createElement("p",{className:"text-white cursor-pointer"},"Home")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{className:"mr-3",to:"/watchlist"},r.a.createElement("p",{className:"text-white cursor-pointer"},"watchlist")),r.a.createElement(Te.a,{to:"/login"}," ",r.a.createElement("p",{className:"text-white cursor-pointer"},"Logout"))),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{to:"/login"},r.a.createElement("p",{className:"text-white cursor-pointer"},"Login")))))};function Ue(){var e=Object(s.c)((function(e){return e.users})),t=Object(s.c)((function(e){return e.authentication.user})),a=Object(s.b)();return Object(n.useEffect)((function(){a(Oe.getAll())}),[a]),r.a.createElement("div",{className:"col-lg-8 offset-lg-2"},r.a.createElement("h1",null,"Hi ",t.firstName,"!"),r.a.createElement("p",null,"You're logged in with React Hooks!!"),r.a.createElement("h3",null,"All registered users:"),e.loading&&r.a.createElement("em",null,"Loading users..."),e.error&&r.a.createElement("span",{className:"text-danger"},"ERROR: ",e.error),e.items&&r.a.createElement("ul",null,e.items.map((function(e,t){return r.a.createElement("li",{key:e.id},e.firstName+" "+e.lastName,e.deleting?r.a.createElement("em",null," - Deleting..."):e.deleteError?r.a.createElement("span",{className:"text-danger"}," - ERROR: ",e.deleteError):r.a.createElement("span",null," - ",r.a.createElement("button",{onClick:function(){return t=e.id,void a(Oe.delete(t));var t},className:"text-primary"},"Delete")))}))),r.a.createElement("p",null,r.a.createElement(Te.a,{to:"/login"},"Logout")))}a(12);var Me=a(5);function Ge(){var e=Object(n.useState)({username:"",password:""}),t=Object(Me.a)(e,2),a=t[0],r=(t[1],Object(n.useState)(!1)),c=Object(Me.a)(r,2),o=(c[0],c[1],a.username,a.password,Object(s.c)((function(e){return e.authentication.loggingIn})),Object(s.b)());Object(n.useEffect)((function(){o(Oe.logout())}))}var Fe=function(){var e=Object(n.useState)({firstName:"",lastName:"",username:"",password:""}),t=Object(Me.a)(e,2),a=(t[0],t[1],Object(n.useState)(!1)),r=Object(Me.a)(a,2),c=(r[0],r[1],Object(s.c)((function(e){return e.registration.registering})),Object(s.b)());Object(n.useEffect)((function(){c(Oe.logout())}))};var De=function(e){var t=e.id,a=e.name,n=e.image,c=e.vote_average,o=e.popularity,i=e.year;return r.a.createElement("div",{className:"w-1/5 p-3 transform hover:-translate-y-2 ease-in-out duration-200 transition-translate"},r.a.createElement("div",{className:"overflow-hidden",style:{height:200,borderRadius:20}},r.a.createElement("img",{className:"object-cover",src:"https://image.tmdb.org/t/p/w500"+n,alt:""})),r.a.createElement(Te.a,{to:"/movie/"+t},r.a.createElement("p",{"data-testid":"movie_name",className:"mt-5 text-xl font-semibold cursor-pointer"},a)),r.a.createElement("div",{className:"mt-1 text-sm tracking-wider flex items-center",style:{color:"rgba(255, 255, 255, 0.8)"}},r.a.createElement("span",{className:"mr-6"},i),r.a.createElement("p",null,"Adventure, Comedy")),r.a.createElement("div",{className:"mt-3 text-sm tracking-wider flex items-center"},r.a.createElement("svg",{className:"mr-2",width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M8 1.333l2.06 4.174 4.607.673-3.334 3.247.787 4.586L8 11.847l-4.12 2.166.787-4.586L1.333 6.18l4.607-.673L8 1.333z",fill:"#FF6F41"})),r.a.createElement("p",{className:"mr-1"},c),r.a.createElement("p",{style:{color:"rgba(255, 255, 255, 0.5)"}},"(",o,")")))},He=function(e){var t=e.genre,a=(e.selectedGenre,e.genreChange);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex ml-3"},r.a.createElement("h1",{className:"mr-3 "},"Genre"),r.a.createElement("select",{className:"px-2 py-1 mr-3 text-black",onChange:a},t&&t.map((function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))))},We=function(e){e.selectedRatingOption;var t=e.ratingChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex"},r.a.createElement("h1",{className:"mr-3"},"Rating sort"),r.a.createElement("select",{className:"px-2 py-1 mr-3 text-black",onChange:t},r.a.createElement("option",null," Highest "),r.a.createElement("option",null," Lowest "))))},Pe=a(42),Je=function(e){Object(Pe.a)(e);var t=r.a.useState(""),a=Object(Me.a)(t,2),c=a[0],o=a[1],i=Object(s.b)();return Object(n.useEffect)((function(){i(je.setSearchText(c))}),[c]),r.a.createElement("div",{className:"relative"},r.a.createElement("input",{className:"rounded border-b text-xs p-2 bg-transparent leading-none border-white",style:{color:"#8E95A5",width:280},type:"text",placeholder:"Enter keyword here",onChange:function(e){o(e.target.value)}}))},Ve=a(43),Be=a.n(Ve);var Qe=function(){var e=Object(s.b)(),t=r.a.useState(1),a=Object(Me.a)(t,2),c=a[0],o=a[1],i=r.a.useState([]),l=Object(Me.a)(i,2),u=l[0],m=l[1],f=r.a.useState(""),d=Object(Me.a)(f,2),g=d[0],E=d[1],p=r.a.useState(0),v=Object(Me.a)(p,2),h=v[0],b=v[1],S=r.a.useState(""),w=Object(Me.a)(S,2),x=w[0],y=w[1],O=Object(s.c)((function(e){return e.movies})),N=O.items,j=(O.error,O.loading),_=O.text,T=Object(s.c)((function(e){return e.movies?function(e,t){return e.items?e.items.filter((function(e){return e.genre_ids&&e.genre_ids.includes(t)})):[]}(e.movies,h):e.movies})),R=Object(s.c)((function(e){return e.movies?function(e,t){return e.items?"Highest"===t?e.items.sort((function(e,t){return t.vote_average-e.vote_average})):e.items.sort((function(e,t){return e.vote_average-t.vote_average})):[]}(e.movies,x):e.movies}));function L(t,a){e(je.getMovies(t,a))}return Object(n.useEffect)((function(){L(g,c),m([{id:28,name:"zcxv"},{id:12,name:"asdf"},{id:16,name:"qwer"}])}),[g,c]),Object(n.useEffect)((function(){_&&_.length>2&&(console.log(_),function(t){e(je.searchMovie(t,1))}(_)),0===_.length&&(console.log(_),L(g,c))}),[_]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-8 max-w-6xl mx-auto pb-16"},r.a.createElement("h1",{className:"font-bold text-4xl mr-2"},"Browse"),r.a.createElement("div",{className:"mt-5 flex items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("span",{className:"flex cursor-pointer  ".concat("now_playing"===g?"rounded-full px-3 py-1 bg-white text-blue-800":""),onClick:function(){E("now_playing"),o(1)}},r.a.createElement("span",{className:"mr-1",role:"img","aria-label":"fire"},"\ud83d\uddfa\ufe0f"),"Now Playing"),r.a.createElement("span",{className:"flex cursor-pointer ml-8  ".concat("popular"===g?"rounded-full px-3 py-1 bg-white text-blue-800":""),onClick:function(){E("popular"),o(1)}},r.a.createElement("span",{className:"mr-1",role:"img","aria-label":"fire"},"\ud83d\udd25"),"Popular"),r.a.createElement("span",{className:"flex cursor-pointer ml-8  ".concat("top_rated"===g?"rounded-full px-3 py-1 bg-white text-blue-800":""),onClick:function(){E("top_rated"),o(1)}},r.a.createElement("span",{className:"mr-1",role:"img","aria-label":"fire"},"\u2728"),"Top Rated"),r.a.createElement("span",{className:"flex cursor-pointer ml-8  ".concat("upcoming"===g?"rounded-full px-3 py-1 bg-white text-blue-800":""),onClick:function(){E("upcoming"),o(1)}},r.a.createElement("span",{className:"mr-1",role:"img","aria-label":"fire"},"\ud83d\udc96"),"Upcoming")),r.a.createElement("div",{className:"flex"},r.a.createElement(Je,null),r.a.createElement(He,{genre:u,selectedGenre:h,genreChange:function(e){var t=u[e.target.selectedIndex].id;b(t)}}),r.a.createElement(We,{selectedRatingOption:x,ratingChange:function(e){y(e.target.value)}}))),r.a.createElement("div",null,j&&r.a.createElement("em",null,"Loading ..")),r.a.createElement("div",{className:"mt-8 flex flex-wrap -ml-3"},!x&&!x&&N&&N.map((function(e,t){return r.a.createElement(De,{key:e.id,id:e.id,name:e.title,image:e.poster_path,vote_average:e.vote_average,popularity:e.popularity,year:Ne(e.release_date)})})),0!==h&&T&&T.map((function(e,t){return r.a.createElement(De,{key:e.id,id:e.id,name:e.title,image:e.poster_path,vote_average:e.vote_average,popularity:e.popularity,year:Ne(e.release_date)})})),x&&R&&R.map((function(e,t){return r.a.createElement(De,{key:e.id,id:e.id,name:e.title,image:e.poster_path,vote_average:e.vote_average,popularity:e.popularity,year:Ne(e.release_date)})}))),r.a.createElement("div",null,r.a.createElement(Be.a,{previousLabel:"prev",nextLabel:"next",breakLabel:"...",forcePage:c-1,breakClassName:"break-me",pageCount:100,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){console.log(e.selected+1),o(e.selected+1)},containerClassName:"flex justify-between items-center max-w-lg mx-auto mt-4",activeClassName:"bg-white text-blue-900 px-2 rounded-full"}))))},ze=function(){return r.a.createElement("div",{className:"w-full flex items-center justify-center text-white mt-40",style:{height:200}},"No data")},qe=function(e){var t=e.title,a=void 0===t?"Trending":t,n=e.trending,c=e.showMore,o=void 0!==c&&c;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex justify-between items-center  mt-12"},r.a.createElement("h1",{className:"font-bold text-4xl mr-2"},a),o&&r.a.createElement("div",{className:"flex items-center"},r.a.createElement("span",{className:"text-base"},"MORE"),r.a.createElement("svg",{width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M3.75 9h10.5M9 3.75L14.25 9 9 14.25",stroke:"#fff",strokWwidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),!n.length&&r.a.createElement(ze,null),r.a.createElement("div",{className:"mt-8 max-w-6xl mx-auto"},n&&r.a.createElement("div",{className:"-ml-3 flex justify-between flex-wrap mt-5"},n.map((function(e,t){return r.a.createElement(De,{key:e.id,id:e.id,name:e.title,image:e.poster_path,vote_average:e.vote_average,popularity:e.popularity,year:Ne(e.release_date)})})))))},Xe=function(e){var t=Object(s.c)((function(e){return e.trending})),a=t.items,c=(t.error,t.loading,Object(s.b)());return Object(n.useEffect)((function(){c(je.getTrending())}),[]),r.a.createElement("div",{className:"w-full h-full",style:{backgroundColor:"#20209A"}},r.a.createElement("div",{className:"text-white max-w-6xl mx-auto"},r.a.createElement("div",null,r.a.createElement("svg",{width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M11 19a8 8 0 100-16 8 8 0 000 16zM21 21l-4.35-4.35",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),r.a.createElement(qe,{trending:a}),r.a.createElement(Qe,null)))};var Ye=function(e){var t=Object(s.c)((function(e){return e.watchlist})),a=t.items,c=(t.error,t.loading,Object(s.b)());return Object(n.useEffect)((function(){c(je.getTrending())}),[]),r.a.createElement("div",{className:"w-full h-full",style:{backgroundColor:"#20209A"}},r.a.createElement("div",{className:"text-white max-w-6xl mx-auto"},r.a.createElement("div",null,r.a.createElement("svg",{width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M11 19a8 8 0 100-16 8 8 0 000 16zM21 21l-4.35-4.35",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),r.a.createElement(qe,{title:"Watch List",trending:a})))},Ke=a(44);function Ze(e){var t=e.movie;return r.a.createElement(Te.a,{to:"/movie/"+t.id,style:{height:200,width:144}},r.a.createElement("div",{style:{height:200,width:144},className:"relative rounded overflow-hidden cursor-pointer"},r.a.createElement("img",{className:"w-full h-full object-fit",src:"https://image.tmdb.org/t/p/w300"+t.poster_path,alt:"ad astra"}),r.a.createElement("div",{className:"w-full h-full absolute top-0 left-0",style:{background:"linear-gradient(360deg, rgba(0, 0, 0, 0.75) 7.63%, rgba(13, 12, 12, 0) 20%)"}}),r.a.createElement("div",{className:"w-full absolute bottom-0 p-2 text-white text-center text-sm"},r.a.createElement("p",null,t.title))))}function $e(e){var t=e.title,a=e.movies;return r.a.createElement("div",{className:"w-full py-4",style:{backgroundColor:"#1E2129"}},r.a.createElement("div",{className:"container mx-auto flex justify-between items-center mb-6"},r.a.createElement("p",{className:"font-bold text-xl leading-5",style:{color:"#00ACC1"}},t),r.a.createElement("div",{className:"flex items-center cursor-pointer text-gray-600 hover:text-white"},r.a.createElement("p",{className:"text-sm"},"View All "),r.a.createElement("svg",{className:"ml-1",width:"6",height:"9",viewBox:"0 0 6 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M1.5 0L0.442505 1.0575L3.8775 4.5L0.442505 7.9425L1.5 9L6 4.5L1.5 0Z",fill:"#8E95A5"})))),a.loading&&r.a.createElement("em",null,"Loading movies..."),a.error&&r.a.createElement("span",{className:"text-danger"},"ERROR: ",a.error),r.a.createElement("div",null,a.items&&r.a.createElement("ul",{className:"container flex flex-wrap justify-between mx-auto"},a.items.map((function(e,t){return r.a.createElement("div",{key:e.id,className:"mb-5"},r.a.createElement(Ze,{movie:e}))})))))}function et(e){e.match,e.history;var t=Object(s.c)((function(e){return e.search})),a=Object(s.b)();return Object(n.useEffect)((function(){t.text&&t.text.length>2&&a(Ke.searchActions.searchMovie(t.text,1))}),[t.text]),r.a.createElement("div",{className:"col-lg-8 offset-lg-2"},r.a.createElement("h3",null,"All Movie Search:"),r.a.createElement($e,{title:"Search : "+t.text,movies:t}))}function tt(){var e=Object(s.c)((function(e){return e.movies})),t=Object(s.b)();return Object(n.useEffect)((function(){t(je.getAll("",1))}),[t]),r.a.createElement("div",{className:"col-lg-8 offset-lg-2"},r.a.createElement("h3",null,"All ProfilePage:"),e.loading&&r.a.createElement("em",null,"Loading movies..."),e.error&&r.a.createElement("span",{className:"text-danger"},"ERROR: ",e.error),e.items&&r.a.createElement("ul",null,e.items.map((function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement(Te.a,{to:"/movie/"+e.id},e.title))}))))}var at=function(e){var t=e.name,a=e.image,n=e.character;return r.a.createElement("div",{"data-testid":"actor",className:"w-1/5 p-3 transform hover:-translate-y-2 ease-in-out duration-200 transition-translate"},r.a.createElement("div",{className:"rounded-md overflow-hidden",style:{height:200,borderRadius:20}},r.a.createElement("img",{className:"object-cover",src:"https://image.tmdb.org/t/p/w185"+a,alt:""})),r.a.createElement("p",{"data-testid":"actor_name",className:"mt-4 text-xl font-semibold cursor-pointer"},t),r.a.createElement("div",{className:"mt-1 text-sm tracking-wider flex items-center",style:{color:"rgba(255, 255, 255, 0.8)"}},r.a.createElement("p",null,n)))},nt=function(e){var t=e.actors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-12"},r.a.createElement("h1",{className:"font-semibold text-3xl tracking-wider mr-2"},"Cast and crew"),t&&r.a.createElement("div",{className:"-ml-3 flex justify-between flex-wrap mt-5"},t.map((function(e,t){return r.a.createElement(at,{key:e.id,name:e.name,character:e.character,image:e.profile_path})})))))},rt=function(e){var t=e.items;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-12"},r.a.createElement("h1",{className:"font-semibold text-3xl tracking-wider mr-2"},"Recommendations"),t&&r.a.createElement("div",{className:"-ml-3 flex justify-between flex-wrap mt-5"},t.map((function(e,t){return r.a.createElement(De,{key:e.id,id:e.id,name:e.title,image:e.poster_path,vote_average:e.vote_average,popularity:e.popularity,year:Ne(e.release_date)})})))))},ct={addToWatchList:function(e){return function(t){t(function(e){return{type:Y,movie:e}}(e))}},removeFromWatchList:function(e){return function(t){t(function(e){return{type:Z,movie:e}}(e))}}};var ot=function(e){var t=e.movie,a=Object(s.b)();var n=Object(s.c)((function(e){return!!e.watchlist&&function(e,t){return!!e.filter((function(e){return e.id===t})).length}(e.watchlist.items,t.id)})),c=Object(s.c)((function(e){return e.authentication.user}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-12 flex items-start"},r.a.createElement("div",{style:{width:171,maxHeight:276,borderRadius:20,borderColor:"#8787D7"},className:"overflow-hidden flex-shrink-0 border "},r.a.createElement("img",{className:"w-full h-full object-cover",src:"https://image.tmdb.org/t/p/w600_and_h900_bestv2"+t.poster_path,alt:""})),r.a.createElement("div",{className:"ml-10"},r.a.createElement("h1",{className:"font-bold text-5xl"},t.title),r.a.createElement("p",{className:"mt-5 text-lg max-w-xl"},t.overview),r.a.createElement("span",{className:"flex items-center mt-5"},r.a.createElement("p",{className:"text-xl italic font-semibold"},"Director: "),r.a.createElement("p",{className:"ml-1 text-xl font-semibold"},"Steven Speilberg")),r.a.createElement("span",{className:"flex items-center mt-3"},r.a.createElement("div",{className:""},r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M14.0002 2.33325L17.6052 9.63659L25.6668 10.8149L19.8335 16.4966L21.2102 24.5233L14.0002 20.7316L6.79016 24.5233L8.16683 16.4966L2.3335 10.8149L10.3952 9.63659L14.0002 2.33325Z",fill:"#FF6F41"}))),r.a.createElement("p",{className:"ml-3 text-xl italic font-semibold"},t.vote_average," (",t.vote_count,")")),r.a.createElement("button",{className:"px-4 py-2 text-xs mt-6 rounded-full font-semibold",onClick:function(){return function(e,t){c||f.push("/login"),t?a(ct.removeFromWatchList(e)):(console.log(e),a(ct.addToWatchList(e)))}(t,n)},style:{background:"#FF5F2C"}},n?"REMOVE TO WATCHLIST":"ADD TO WATCHLIST"))))},it=function(e){var t=e.match,a=t.params.id;console.log(t.params.id);var c=Object(s.b)(),o=Object(s.c)((function(e){return e.movies.item})),i=Object(s.c)((function(e){return e.actors.items})),l=Object(s.c)((function(e){return e.recommendations.items})),u=r.a.useState({}),m=Object(Me.a)(u,2);m[0],m[1];return Object(n.useEffect)((function(){!function(e){c(je.getMovieDetail(e))}(a),function(e){c(je.getActors(e))}(a),function(e){c(je.getRecommendations(e))}(a)}),[a]),r.a.createElement("div",{className:"w-screen h-screen"},r.a.createElement("div",{className:"overflow-hidden relative w-full h-full"},r.a.createElement("div",{className:"w-full h-full absolute",style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0.2) 1.53%, rgba(9, 9, 98, 0.8) 100%)"}},r.a.createElement("div",{className:"relative w-full h-full overflow-y-scroll"},r.a.createElement("div",{className:"max-w-6xl mx-auto py-8 text-white"},r.a.createElement(Te.a,{to:"/movie"},r.a.createElement("div",{className:"flex items-center cursor-pointer"},r.a.createElement("svg",{width:"37",height:"37",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M18.5 33.917c8.515 0 15.417-6.903 15.417-15.417S27.015 3.083 18.5 3.083C9.986 3.083 3.084 9.986 3.084 18.5S9.986 33.917 18.5 33.917z",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.a.createElement("path",{d:"M18.5 12.333L12.334 18.5l6.166 6.167M24.667 18.5H12.333",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),r.a.createElement("span",{className:"ml-3"},"Back"))),r.a.createElement(ot,{movie:o}),r.a.createElement(nt,{actors:i}),r.a.createElement(rt,{items:l})))),r.a.createElement("img",{className:"h-full w-full  object-top object-cover",src:"https://image.tmdb.org/t/p/original"+o.backdrop_path,alt:""})))};var st=function(){var e=Object(s.c)((function(e){return e.alert})),t=Object(s.b)();return Object(n.useEffect)((function(){f.listen((function(e,a){t(ve.clear())}))})),r.a.createElement("div",{className:" w-screen h-screen overflow-y-scroll ",style:{backgroundColor:"#20209A"}},r.a.createElement("div",{className:""},e.message&&r.a.createElement("div",{className:"alert ".concat(e.type)},e.message),r.a.createElement(i.c,{history:f},r.a.createElement(Ie,null),r.a.createElement(i.d,null,r.a.createElement(_e,{exact:!0,path:"/",component:Ue}),r.a.createElement(i.b,{path:"/login",component:Ge}),r.a.createElement(i.b,{path:"/movie",exact:!0,component:Xe}),r.a.createElement(i.b,{path:"/search/:keyword",exact:!0,component:et}),r.a.createElement(i.b,{path:"/profile",exact:!0,component:tt}),r.a.createElement(i.b,{path:"/watchlist",exact:!0,component:Ye}),r.a.createElement(i.b,{path:"/movie/:id(\\d+)",exact:!0,component:it}),r.a.createElement(i.b,{path:"/register",component:Fe}),r.a.createElement(i.a,{from:"*",to:"/"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=window.fetch;window.fetch=function(t,a){var n=a.method,r=a.headers,c=a.body&&JSON.parse(a.body);return new Promise((function(o,i){function s(e){o({ok:!0,text:function(){return Promise.resolve(JSON.stringify(e))}})}function m(){o({status:401,text:function(){return Promise.resolve(JSON.stringify({message:"Unauthorized"}))}})}function f(e){o({status:400,text:function(){return Promise.resolve(JSON.stringify({message:e}))}})}function d(){return"Bearer fake-jwt-token"===r.Authorization}setTimeout((function(){switch(!0){case t.endsWith("/users/authenticate")&&"POST"===n:return function(){var e=c.username,t=c.password,a=u.find((function(a){return a.username===e&&a.password===t}));return a?s({id:a.id,username:a.username,firstName:a.firstName,lastName:a.lastName,token:"fake-jwt-token"}):f("Username or password is incorrect")}();case t.endsWith("/users/register")&&"POST"===n:return function(){var e=c;if(u.find((function(t){return t.username===e.username})))return f("Username  ".concat(e.username," is already taken"));return e.id=u.length?Math.max.apply(Math,Object(l.a)(u.map((function(e){return e.id}))))+1:1,u.push(e),localStorage.setItem("users",JSON.stringify(u)),s()}();case t.endsWith("/users")&&"GET"===n:return d()?s(u):m();case t.match(/\/users\/\d+$/)&&"DELETE"===n:return d()?(u=u.filter((function(e){return e.id!==function(){var e=t.split("/");return parseInt(e[e.length-1])}()})),localStorage.setItem("users",JSON.stringify(u)),s()):m();default:return e(t,a).then((function(e){return o(e)})).catch((function(e){return i(e)}))}}),500)}))}}(),o.a.render(r.a.createElement(s.a,{store:Ee},r.a.createElement(st,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.24e5ef41.chunk.js.map